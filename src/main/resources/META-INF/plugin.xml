<idea-plugin require-restart="true">
    <id>TypeSpec</id>
    <name>TypeSpec</name>
    <vendor>Roi Mordechay</vendor>

    <depends>com.intellij.modules.platform</depends>

    <extensions defaultExtensionNs="com.intellij">
        <fileType name="TypeSpec" implementationClass="typespec.language.TsFileType" fieldName="INSTANCE" language="TypeSpec" extensions="tsp"/>
        <lang.parserDefinition language="TypeSpec" implementationClass="typespec.language.TsParser"/>
        <lang.syntaxHighlighterFactory language="TypeSpec" implementationClass="typespec.highlighting.TsSyntaxHighlighterFactory"/>
        <additionalTextAttributes scheme="Darcula" file="colors/TsColorsConfiguration.xml"/>
        <annotator language="TypeSpec" implementationClass="typespec.highlighting.TsHighlightAnnotator"/>
        <colorSettingsPage implementation="typespec.highlighting.TsColorSettings"/>
        <lang.braceMatcher language="TypeSpec" implementationClass="typespec.editor.TsBraceMatcher"/>
        <lang.commenter language="TypeSpec" implementationClass="typespec.editor.TsCommenter"/>
        <typedHandler implementation="typespec.editor.TsTypedHandler"/>
        <psi.referenceContributor language="TypeSpec" implementation="typespec.psi.TsReferenceContributor"/>
        <lang.findUsagesProvider language="TypeSpec" implementationClass="typespec.psi.TsFindUsage"/>
        <completion.contributor language="TypeSpec" implementationClass="typespec.completion.TsCompletionContributor"/>
        <spellchecker.support language="TypeSpec" implementationClass="typespec.editor.TsSpellChecking"/>
    </extensions>

    <actions>
        <action id="typespec.editor.TsNewFile" class="typespec.editor.TsNewFile" text="TypeSpec File">
            <add-to-group group-id="NewGroup" anchor="after" relative-to-action="NewDir"/>
        </action>
    </actions>
</idea-plugin>